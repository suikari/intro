<div id="board_app" class="board_container">
    <table class="board">
        <caption>
            <strong>게시판 목록</strong>
            <p>이 표    는 번호, 제목, 작성자, 작성일로 구성되었습니다.</p>
        </caption>

        <colgroup>
            <col style="width:7%; text-align: center;">
            <col >
            <col style="width:10%">
            <col style="width:15%">
            <col style="width:10%">
        </colgroup>

        <thead>
            <tr>
                <th>번호</th>
                <th>제목</th>
                <th>작성자</th>
                <th>작성일</th>
                <th>조회수</th>
            </tr>
        </thead>
        <tbody id="boardTable">
            <tr  v-for="(item, index) in list"  @Click="fnClick(item.id)" >
                <td>{{item.num}} </td>
                <td>{{item.title}} </td>
                <td>{{item.writer}} </td>
                <td>{{item.sysdate}} </td>
                <td>{{item.view}} </td>
            </tr>
        </tbody>
    </table>

    <div class="pagination">
        <a href="#">«</a>
        <a href="#" class="active">1</a>
        <!-- <a href="#">2</a>
        <a href="#">3</a> -->
        <a href="#">»</a>
    </div>

    <div class="search-container">
        <select id="searchField">
            <option value="number">번호</option>
            <option value="title">제목</option>
            <option value="author">작성자</option>
        </select>
        <input type="text" id="searchInput" placeholder="검색어를 입력하세요..." />
        <button onclick="searchBoard()">검색</button>
        <a href="javascript:pagemove('e;');" id="write_doc" class="write-btn" style="float: right;" >글쓰기</a>
    </div>

    
</div>



<script type="text/javascript">
        dark_toggle();
        dark_toggle();



    async function useModule() {
        // let count = await window.module.countdata();
        let data = await window.module.getdata();
        return data;
    }


    board_app = Vue.createApp({
        data() {
            return {
                // 변수
                list : [] ,
                currentPage: 1, // 현재 페이지 번호
                postsPerPage: 10, // 한 페이지에 보여줄 게시글의 개수
            };
        },
        methods: {
            // 함수(메소드)
             fnSample : async function () {
                try {
                var self =  this;
                self.list = await useModule();
                } catch (err) {
                    swal_msg("에러","게시판 불러오기 실패","error");
                    peagmove(";");
                }
            } , 
            fnClick : function (id) {
                pagemove("b;"+ id);
            }

        },
        mounted() {
            // 처음 시작할 때 실행되는 부분
            let self = this;
            self.fnSample();
        }
    });

    board_app.mount('#board_app');


    //useModule();
 
</script>

<style>
    .float-r {
        float : right;
    }
</style>