
<div class="content-wrap" id="app">
  <canvas id="canvas" width="720" height="480">
    <img src="../image/san1.jfif" id="img-ball" style="display: none"/>


  </canvas>
</div>


<script>


window.onload = function() {
  const canvas = document.getElementById('canvas');
  const ctx = canvas.getContext('2d');

  const imgBall = document.getElementById('img-ball');
  ctx.drawImage(imgBall, 0, 0);

let x = 0;  
let y = 0;
let speed = 0;
let acceleration = 50;
let angularVelocity = 0; // 각속도
let rotation = 0; // 현재 회전 값
const timeSpeed = 10;

let lastTimestamp = null;

function draw(timestamp) {
  if (!lastTimestamp) lastTimestamp = timestamp;
  let timeDiff = (timestamp - lastTimestamp) / 1000;
  lastTimestamp = timestamp;

  timeDiff *= timeSpeed;

  ctx.clearRect(0, 0, canvas.width, canvas.height);

  speed += acceleration * timeDiff;
  y += speed * timeDiff;
  rotation += angularVelocity * timeDiff;

  if (y > canvas.height - imgBall.height) {
    y = canvas.height - imgBall.height;
    speed = -speed * 0.7;
  }

  ctx.save();
  // 아래 drawImage에서
  // -imgBall.width / 2, -imgBall.height / 2 한 것을 보정해서 translate합니다.
  ctx.translate( Math.random(719)  + imgBall.width / 2, y + imgBall.height / 2);
  ctx.rotate(rotation);
  ctx.drawImage(imgBall, -imgBall.width / 2, -imgBall.height / 2);
  ctx.restore();

  window.requestAnimationFrame(draw);
}

window.requestAnimationFrame(draw);

canvas.addEventListener('click', (e) => {
  speed = -150;
  angularVelocity = Math.random() - 0.5; // -0.5 ~ 0.5 사이의 임의의 각속도를 설정합니다
});

}



</script>