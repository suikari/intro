
<div id="board_app" class="board_container">

  <h1 class="board_title">{{this.title}}</h1>

  <div class="board_info">
      <span class="board_author">작성자: {{this.author}}</span>
      <span class="board_date">작성일: {{this.sysdate}}</span>
  </div>

  <div class="board_content">
      {{this.content}}
  </div>

  <div class="board_buttons">
      <a href="javascript:;" @click="fnUpdateCilck" class="board_btn board_btn-edit">수정</a>
      <a href="javascript:;" @click="fnDeleteCilck" class="board_btn board_btn-delete">삭제</a>
      <a href="javascript:;" @click="fnHomeClick" class="board_btn board_btn-back">목록으로</a>
  </div>
</div>
<!-- 

<div class="bbs-wrap bbs-qna paget" style="background-color: white;">
    <div class="result">
      <div class="read">
        <article>
          <div class="upr" >
            <h3><span id="title"></span></h3>
            <div class="info">
              <span class="writer"><i class="ri-user-line"></i><b  class="hid">작성자</b><span id="wid" ></span></span>
              <span  class="date"><i class="ri-time-line"></i><b class="hid">작성일</b><span id="wday" ></span></span>
              <span class="tel"><i class="ri-smartphone-line"></i><b class="hid">연락처</b><span></span></span>
              <span class="mail"><i class="ri-mail-line"></i><b class="hid">메일주소</b><span></span></span>
            </div>
            <div class="attach">
              <ul>
                <li><a href="javascript:;"><i class="ri-attachment-line"></i><span>첨부파일입니다.jpg (120kb)</span></a></li>
              </ul>
            </div>
          </div>
          <div id="b_content" class="detail">

          </div>
        </article>
      </div>
      <div class="btns ac clearfix" style=" padding: 10px;">
        <div class="float-r">
          <a href="javascript:delete_doc();" class="btn-dark">삭제</a>
          <a href="javascript:pagemove('1;');" class="btn-outline">목록</a>
          <a href="javascript:update_doc();" class="btn-outline">수정</a>
        </div>
      </div>
    </div>
  </div>
  -->
  


 <script type="text/javascript">

    dark_toggle();
    dark_toggle();

    //alert(board_id);

    async function useModule() {
        // let count = await window.module.countdata();

        let data = await window.module.getdata_p(board_id);
        return data;
    }

    async function useDelModule() {
        await window.module.deldata(board_id);
    }
    

    board_app = Vue.createApp({
        data() {
            return {
              author : '', // 로그인에 사용할 username
              title: '',  // 로그인에 사용할 password
              content : '',
              num     : '',
              sysdate : '',
              viewFlg : true ,
            };
        },
        methods: {
            // 함수(메소드)
            fnHomeClick : function (id) {
                pagemove("1;");
            },
            fnSample : async function () {
                try {
                var self =  this;
                var data = await useModule();
                  
                //console.log(data);

                self.author  = data.writer ;
                self.title   = data.title ;
                self.content = data.content;
                self.num     = data.num;
                self.sysdate = data.sysdate ;
                self.viewFlg = false;

                } catch (err) {
                    swal_msg("에러","게시판 불러오기 실패","error");
                    peagmove(";");
                }
            },
            fnUpdateCilck : function () {
              pagemove("e;"+ board_id); 
            },
            fnDeleteCilck : async function () {

              if(!(confirm("정말 삭제하시겠습니까?"))){
                return;
              }

              await useDelModule();
            },
        },
        mounted() {
            // 처음 시작할 때 실행되는 부분
            let self = this;
            self.fnSample();
        }
    });

    board_app.mount("#board_app");
    
</script>
